function email_test(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.classList.add("_error")}function i(e){e.classList.remove("_error")}function r(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(o){o.preventDefault();let s=function(e){let o=0,s=document.querySelectorAll("._req");for(let e=0;e<s.length;e++){const n=s[e];i(n),n.classList.contains("_email")?r(n)&&(t(n),o++):" "===n.value&&(t(n),o++)}return o}(),n=new FormData(e);if(0===s){e.classList.add("_sending");let t=await fetch("send.php",{method:"POST",body:n});if(t.ok){let i=await t.json();alert(i.message),e.reset(),e.classList.remove("_sending")}else alert("Ошибка"),e.classList.remove("_sending")}else alert("Заполните обязательно поля, либо проверьте корректность звполненных полей")}))}));const body=document.querySelector("body"),burger=document.querySelector(".burger"),popup=document.querySelector(".popup"),popupClose=document.querySelector(".popup__close"),formWrapper=document.querySelector(".form__wrapper"),formClose=document.querySelector(".form__close"),menuNavLink=document.querySelectorAll(".menu__nav-link");burger.addEventListener("click",()=>{popup.classList.add("show")}),popupClose.addEventListener("click",()=>{popup.classList.remove("show")}),menuNavLink.forEach(e=>{e.addEventListener("click",()=>{formWrapper.classList.add("show"),body.style.overflow="hidden"})}),formWrapper.addEventListener("click",e=>{const t=e.target;t!==formWrapper&&t!==formClose||formWrapper.classList.remove("show")}),menuNavLink.forEach(e=>{e.addEventListener("mouseover",()=>{"menu__img"===e.id&&(document.querySelector(".small").style.visibility="visible",document.querySelector(".cup").style.visibility="visible",document.querySelector(".big").style.visibility="visible"),"cup"===e.id&&(document.querySelector(".main").style.visibility="visible"),"paper"===e.id&&(document.querySelector(".paper").style.visibility="visible")}),e.addEventListener("mouseout",()=>{"menu__img"===e.id&&(document.querySelector(".small").style.visibility="hidden",document.querySelector(".cup").style.visibility="hidden",document.querySelector(".big").style.visibility="hidden"),"cup"===e.id&&(document.querySelector(".main").style.visibility="hidden"),"paper"===e.id&&(document.querySelector(".paper").style.visibility="hidden")})});